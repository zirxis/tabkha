<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الأطباق التقليدية - طبخة</title>
    <meta name="description" content="استمتعي بأشهى الأطباق التقليدية الجزائرية المعدة بكل حب من قبل أفضل الطباخات المنزليات مع طبخة">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'warm-beige': '#F5F1E8',
                        'olive-green': '#8B9A7A',
                        'warm-orange': '#E8A87C',
                        'text-dark': '#2C2C2C'
                    },
                    fontFamily: {
                        'arabic': ['Cairo', 'sans-serif'],
                        'sans': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #F5F1E8;
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #E8A87C, #8B9A7A);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }
        
        .animate-in {
            opacity: 1;
            transform: translateY(0);
        }
        
        .meal-card:hover {
            transform: translateY(-8px) scale(1.02);
        }
        
        .filter-tag.active {
            background-color: #E8A87C;
            color: white;
            transform: scale(1.05);
        }
        
        .prep-time-badge {
            background: linear-gradient(135deg, #E8A87C, #F3A712);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
        }
        
        .hover-lift {
            transition: all 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .pulse-glow {
            animation: pulse-glow 3s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(232, 168, 124, 0.3);
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(232, 168, 124, 0.3); }
            50% { box-shadow: 0 0 40px rgba(232, 168, 124, 0.6), 0 0 60px rgba(232, 168, 124, 0.4); }
        }
        
        .floating-element {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .difficulty-easy { background-color: #10B981; color: white; }
        .difficulty-medium { background-color: #F59E0B; color: white; }
        .difficulty-hard { background-color: #EF4444; color: white; }
        
        .storage-badge {
            background-color: #3B82F6;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-warm-beige text-text-dark">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm shadow-sm z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="text-2xl font-bold text-gradient">طبخة</div>
                    <span class="text-sm text-gray-600 mr-2 hidden sm:block">| وجبات منزلية</span>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-gray-700 hover:text-warm-orange transition-colors">الرئيسية</a>
                    <a href="subscriptions.html" class="text-gray-700 hover:text-warm-orange transition-colors">الاشتراكات</a>
                    <a href="chefs.html" class="text-gray-700 hover:text-warm-orange transition-colors">الطباخات</a>
                    <a href="wjbatnsfm.html" class="text-gray-700 hover:text-warm-orange transition-colors">نصف مجهزة</a>
                    <div class="relative group">
                        <button class="text-gray-700 hover:text-warm-orange transition-colors flex items-center">
                            الأطباق
                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute top-full left-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50">
                            <a href="traditional-meals.html" class="block px-4 py-2 text-warm-orange font-medium bg-orange-50">الأطباق التقليدية</a>
                            <a href="healthy-meals.html" class="block px-4 py-2 text-gray-700 hover:text-warm-orange hover:bg-orange-50">الأطباق الصحية</a>
                            <a href="international-meals.html" class="block px-4 py-2 text-gray-700 hover:text-warm-orange hover:bg-orange-50">الأطباق العالمية</a>
                            <a href="family-meals.html" class="block px-4 py-2 text-gray-700 hover:text-warm-orange hover:bg-orange-50">وجبات العائلة</a>
                            <a href="desserts.html" class="block px-4 py-2 text-gray-700 hover:text-warm-orange hover:bg-orange-50">الحلويات</a>
                        </div>
                    </div>
                    <a href="index.html#contact" class="text-gray-700 hover:text-warm-orange transition-colors">تواصل معنا</a>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-warm-orange">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <div class="flex flex-col space-y-3">
                    <a href="index.html" class="text-gray-700 hover:text-warm-orange transition-colors">الرئيسية</a>
                    <a href="subscriptions.html" class="text-gray-700 hover:text-warm-orange transition-colors">الاشتراكات</a>
                    <a href="chefs.html" class="text-gray-700 hover:text-warm-orange transition-colors">الطباخات</a>
                    <a href="wjbatnsfm.html" class="text-gray-700 hover:text-warm-orange transition-colors">نصف مجهزة</a>
                    <div class="border-t border-gray-200 pt-3">
                        <p class="font-medium text-text-dark mb-2">الأطباق</p>
                        <a href="traditional-meals.html" class="block py-2 text-warm-orange font-medium">الأطباق التقليدية</a>
                        <a href="healthy-meals.html" class="block py-2 text-gray-700 hover:text-warm-orange">الأطباق الصحية</a>
                        <a href="international-meals.html" class="block py-2 text-gray-700 hover:text-warm-orange">الأطباق العالمية</a>
                        <a href="family-meals.html" class="block py-2 text-gray-700 hover:text-warm-orange">وجبات العائلة</a>
                        <a href="desserts.html" class="block py-2 text-gray-700 hover:text-warm-orange">الحلويات</a>
                    </div>
                    <a href="index.html#contact" class="text-gray-700 hover:text-warm-orange transition-colors">تواصل معنا</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="pt-24 pb-12 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center animate-on-scroll">
                <h1 class="text-4xl md:text-5xl font-bold text-text-dark mb-4">الأطباق التقليدية</h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    استمتعي بأشهى الأطباق التقليدية الجزائرية المعدة بكل حب من قبل أفضل الطباخات المنزليات
                </p>
            </div>
        </div>
    </section>

    <!-- Category Description -->
    <section class="py-12 bg-warm-beige">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-2 gap-12 items-center animate-on-scroll">
                <div>
                    <h2 class="text-3xl font-bold text-text-dark mb-6">نكهات تراثية أصيلة</h2>
                    <p class="text-gray-700 leading-relaxed mb-6">
                        الأطباق التقليدية الجزائرية هي كنز من النكهات والروائح التي توارثتها الأجيال. 
                        في طبخة، نقدم لكِ أشهى الأطباق التقليدية المعدة بكل حب واهتمام من قبل طباخاتنا الماهرات، 
                        مستخدمين أفضل المكونات الطازجة والوصفات الأصيلة.
                    </p>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="flex items-center">
                            <span class="text-warm-orange text-xl ml-2">✓</span>
                            <span class="text-gray-700">وصفات أصلية</span>
                        </div>
                        <div class="flex items-center">
                            <span class="text-warm-orange text-xl ml-2">✓</span>
                            <span class="text-gray-700">مكونات طازجة</span>
                        </div>
                        <div class="flex items-center">
                            <span class="text-warm-orange text-xl ml-2">✓</span>
                            <span class="text-gray-700">نكهات تراثية</span>
                        </div>
                        <div class="flex items-center">
                            <span class="text-warm-orange text-xl ml-2">✓</span>
                            <span class="text-gray-700">إعداد منزلي</span>
                        </div>
                    </div>
                </div>
                <div class="animate-on-scroll">
                    <img src="https://i.ibb.co/tPBhBx0B/t-l-chargement-1.jpg" alt="الأطباق التقليدية الجزائرية" 
                         class="w-full h-64 md:h-80 object-cover rounded-2xl shadow-lg floating-element">
                </div>
            </div>
        </div>
    </section>

    <!-- Search and Filter Section -->
    <section class="py-8 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-warm-beige rounded-xl p-6 shadow-lg animate-on-scroll">
                <div class="grid md:grid-cols-3 gap-6">
                    <!-- Search -->
                    <div class="md:col-span-2">
                        <label class="block text-sm font-medium text-text-dark mb-2 flex items-center">
                            <span class="text-lg mr-2">🔍</span>
                            البحث عن طبق
                        </label>
                        <div class="relative">
                            <input type="text" id="meal-search" placeholder="ابحث بالاسم أو المكونات..." 
                                   class="w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:border-warm-orange transition-colors hover-lift"
                                   onkeyup="filterMeals()">
                            <svg class="absolute left-4 top-3.5 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Region Filter -->
                    <div>
                        <label class="block text-sm font-medium text-text-dark mb-2 flex items-center">
                            <span class="text-lg mr-2">🗺️</span>
                            المنطقة
                        </label>
                        <select id="region-filter" onchange="filterMeals()" 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-warm-orange transition-colors hover-lift">
                            <option value="">جميع المناطق</option>
                            <option value="algiers">الجزائر العاصمة</option>
                            <option value="constantine">قسنطينة</option>
                            <option value="oran">وهران</option>
                            <option value="annaba">عنابة</option>
                            <option value="khenchela">خنشلة</option>
                        </select>
                    </div>
                </div>
                
                <!-- Preparation Time Filters -->
                <div class="mt-6">
                    <label class="block text-sm font-medium text-text-dark mb-3 flex items-center">
                        <span class="text-lg mr-2">⏱️</span>
                        وقت التحضير
                    </label>
                    <div class="flex flex-wrap gap-2">
                        <button onclick="toggleFilter(this, 'prepTime')" data-value="quick" 
                                class="filter-tag px-4 py-2 bg-gray-200 text-gray-700 rounded-full hover:bg-warm-orange hover:text-white transition-colors text-sm hover-lift">
                            سريعة (أقل من 15 دقيقة)
                        </button>
                        <button onclick="toggleFilter(this, 'prepTime')" data-value="medium" 
                                class="filter-tag px-4 py-2 bg-gray-200 text-gray-700 rounded-full hover:bg-warm-orange hover:text-white transition-colors text-sm hover-lift">
                            متوسطة (15-30 دقيقة)
                        </button>
                        <button onclick="toggleFilter(this, 'prepTime')" data-value="long" 
                                class="filter-tag px-4 py-2 bg-gray-200 text-gray-700 rounded-full hover:bg-warm-orange hover:text-white transition-colors text-sm hover-lift">
                            طويلة (أكثر من 30 دقيقة)
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Meals Grid -->
    <section id="meals-grid" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center mb-8 animate-on-scroll">
                <div>
                    <h2 class="text-2xl font-bold text-text-dark">نتائج البحث</h2>
                    <p class="text-gray-600" id="results-count">عرض 12 من 50 وجبة</p>
                </div>
                <div class="flex items-center space-x-4">
                    <label class="text-sm font-medium text-text-dark">الترتيب حسب:</label>
                    <select id="sort-by" onchange="sortMeals(this.value)" 
                            class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-warm-orange transition-colors hover-lift">
                        <option value="popular">الأكثر شيوعاً</option>
                        <option value="price">السعر</option>
                        <option value="prepTime">وقت التحضير</option>
                        <option value="rating">التقييم</option>
                    </select>
                </div>
            </div>
            
            <div id="meals-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Meal cards will be populated by JavaScript -->
            </div>
            
            <!-- Load More Button -->
            <div class="text-center mt-12 animate-on-scroll">
                <button onclick="loadMoreMeals()" 
                        class="bg-warm-orange text-white px-8 py-3 rounded-full hover:bg-orange-500 transition-colors font-medium pulse-glow hover-lift">
                    عرض المزيد من الوجبات
                </button>
            </div>
        </div>
    </section>

    <!-- Traditional Dishes Info -->
    <section class="py-16 bg-warm-beige">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12 animate-on-scroll">
                <h2 class="text-3xl font-bold text-text-dark mb-4">أشهر الأطباق التقليدية</h2>
                <p class="text-lg text-gray-600">
                    اكتشفي تنوع المطبخ الجزائري من خلال أشهر أطباقنا التقليدية
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white rounded-xl p-6 text-center hover-lift animate-on-scroll">
                    <div class="w-16 h-16 bg-warm-orange rounded-full flex items-center justify-center mx-auto mb-4 text-white text-2xl">
                        🍛
                    </div>
                    <h3 class="text-xl font-bold text-text-dark mb-2">الكسكس</h3>
                    <p class="text-gray-600 text-sm">الطبق الوطني الجزائري بامتياز، يقدم مع الخضار واللحم</p>
                </div>
                
                <div class="bg-white rounded-xl p-6 text-center hover-lift animate-on-scroll">
                    <div class="w-16 h-16 bg-olive-green rounded-full flex items-center justify-center mx-auto mb-4 text-white text-2xl">
                        🍲
                    </div>
                    <h3 class="text-xl font-bold text-text-dark mb-2">الشخشوخة</h3>
                    <p class="text-gray-600 text-sm">عجينة رفيعة مطبوخة مع صلصة الطماطم واللحم</p>
                </div>
                
                <div class="bg-white rounded-xl p-6 text-center hover-lift animate-on-scroll">
                    <div class="w-16 h-16 bg-warm-orange rounded-full flex items-center justify-center mx-auto mb-4 text-white text-2xl">
                        🍗
                    </div>
                    <h3 class="text-xl font-bold text-text-dark mb-2">الطاجين</h3>
                    <p class="text-gray-600 text-sm">يختلف من منطقة لأخرى، ويطبخ ببطء لينضج جيداً</p>
                </div>
                
                <div class="bg-white rounded-xl p-6 text-center hover-lift animate-on-scroll">
                    <div class="w-16 h-16 bg-olive-green rounded-full flex items-center justify-center mx-auto mb-4 text-white text-2xl">
                        🥘
                    </div>
                    <h3 class="text-xl font-bold text-text-dark mb-2">المرقة</h3>
                    <p class="text-gray-600 text-sm">مرق اللحم مع الخضار، يقدم مع الخبز أو الكسكس</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-text-dark text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="text-3xl font-bold text-gradient mb-4">طبخة</div>
                <p class="text-gray-300 mb-6 max-w-2xl mx-auto">
                    منصة طبخة - ربط النساء العاملات بأفضل الطباخات المنزليات للحصول على وجبات منزلية لذيذة وصحية
                </p>
                <div class="border-t border-gray-600 pt-6">
                    <p class="text-gray-400">
                        © 2025 طبخة. جميع الحقوق محفوظة | مصمم بكل حب للنساء الجزائريات
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="main.js"></script>
    <script>
        // Traditional Meals Data
        const mealsData = [
            {
                id: 'kabsa-chicken',
                name: 'شخشوخة',
                category: 'traditional',
                image: 'https://i.ibb.co/tPBhBx0B/t-l-chargement-1.jpg',
                price: 280,
                prepTime: 15,
                difficulty: 'easy',
                rating: 4.8,
                reviews: 124,
                description: 'شخشوخة نصف مجهزة بالمرق.',
                ingredients: ['اضافات من اختيارك', 'دجاج', 'شخشوخة ورق', 'زيت', 'بصل', 'طماطم'],
                storage: '3 أشهر في الفريزر',
                servings: 4,
                popular: true,
                chef: 'أمل محمد',
                region: 'khenchela'
            },
            {
                id: 'kofta-tomato',
                name: 'كفتة بالطماطم',
                category: 'traditional',
                image: 'resources/kofta-tomato.jpg',
                price: 32,
                prepTime: 20,
                difficulty: 'medium',
                rating: 4.9,
                reviews: 156,
                description: 'كفتة لحم مفروم مع صلصة طماطم غنية. طبق رئيسي شهي.',
                ingredients: ['لحم مفروم', 'طماطم', 'بصل', 'بهارات', 'زيت', 'معجون طماطم'],
                storage: '4 أشهر في الفريزر',
                servings: 4,
                popular: true,
                chef: 'فاطمة الزهراء',
                region: 'algiers'
            },
            {
                id: 'chicken-biryani',
                name: 'برياني دجاج',
                category: 'traditional',
                image: 'resources/chicken-biryani.jpg',
                price: 35,
                prepTime: 18,
                difficulty: 'medium',
                rating: 4.8,
                reviews: 98,
                description: 'برياني دجاج بنكهات هندية أصيلة. أرز معطر مع قطع دجاج.',
                ingredients: ['أرز بسمتي', 'دجاج', 'بصل', 'زعفران', 'بهارات برياني', 'زيت'],
                storage: '3 أشهر في الفريزر',
                servings: 4,
                popular: true,
                chef: 'هدى يوسف',
                region: 'oran'
            },
            {
                id: 'moroccan-tagine',
                name: 'طاجن مغربي',
                category: 'traditional',
                image: 'resources/moroccan-tagine.jpg',
                price: 30,
                prepTime: 15,
                difficulty: 'easy',
                rating: 4.6,
                reviews: 53,
                description: 'طاجن مغربي تقليدي مع خضار وبهارات عطرية. نكهات شمال أفريقية.',
                ingredients: ['لحم ضأن', 'خضار مشكلة', 'زيتون', 'ليمون مخلل', 'بهارات', 'زيت'],
                storage: '3 أشهر في الفريزر',
                servings: 4,
                popular: false,
                chef: 'زينب المغربي',
                region: 'constantine'
            },
            {
                id: 'chicken-shawarma',
                name: 'شاورما دجاج',
                category: 'traditional',
                image: 'resources/chicken-shawarma.jpg',
                price: 25,
                prepTime: 10,
                difficulty: 'easy',
                rating: 4.9,
                reviews: 112,
                description: 'شاورما دجاج مع تتبيلة خاصة. جاهزة للتسخين والتقديم مع خبز.',
                ingredients: ['دجاج', 'بهارات شاورما', 'ثوم', 'زيت', 'ليمون', 'طماطم'],
                storage: '3 أشهر في الفريزر',
                servings: 3,
                popular: true,
                chef: 'نادية راشد',
                region: 'annaba'
            },
            {
                id: 'stuffed-grape-leaves',
                name: 'ورق عنب',
                category: 'traditional',
                image: 'resources/stuffed-grape-leaves.jpg',
                price: 26,
                prepTime: 8,
                difficulty: 'medium',
                rating: 4.7,
                reviews: 64,
                description: 'ورق عنب محشي بالأرز واللحم. طبق تقليدي بنكهة مميزة.',
                ingredients: ['ورق عنب', 'أرز', 'لحم مفروم', 'زيت', 'ليمون', 'بهارات'],
                storage: '3 أشهر في الفريزر',
                servings: 4,
                popular: true,
                chef: 'وفاء حسن',
                region: 'algiers'
            }
        ];

        // Active filters
        let activeFilters = {
            region: '',
            prepTime: []
        };

        // Current displayed meals
        let displayedMeals = 6;

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderMeals();
            initAnimations();
        });

        // Render meals based on current filters
        function renderMeals() {
            const container = document.getElementById('meals-container');
            const searchTerm = document.getElementById('meal-search').value.toLowerCase();
            const regionFilter = document.getElementById('region-filter').value;
            
            // Filter meals
            let filteredMeals = mealsData.filter(meal => {
                // Search filter
                const matchesSearch = meal.name.toLowerCase().includes(searchTerm) || 
                                     meal.description.toLowerCase().includes(searchTerm) ||
                                     meal.ingredients.some(ing => ing.toLowerCase().includes(searchTerm));
                
                // Region filter
                const matchesRegion = !regionFilter || meal.region === regionFilter;
                
                // Prep time filter
                const matchesPrepTime = activeFilters.prepTime.length === 0 || 
                    activeFilters.prepTime.some(time => {
                        if (time === 'quick') return meal.prepTime < 15;
                        if (time === 'medium') return meal.prepTime >= 15 && meal.prepTime <= 30;
                        if (time === 'long') return meal.prepTime > 30;
                        return false;
                    });
                
                return matchesSearch && matchesRegion && matchesPrepTime;
            });
            
            // Sort meals
            const sortBy = document.getElementById('sort-by').value;
            filteredMeals.sort((a, b) => {
                if (sortBy === 'popular') return b.popular - a.popular || b.rating - a.rating;
                if (sortBy === 'price') return a.price - b.price;
                if (sortBy === 'prepTime') return a.prepTime - b.prepTime;
                if (sortBy === 'rating') return b.rating - a.rating;
                return 0;
            });
            
            // Update results count
            document.getElementById('results-count').textContent = `عرض ${Math.min(displayedMeals, filteredMeals.length)} من ${filteredMeals.length} وجبة`;
            
            // Render meals
            container.innerHTML = '';
            const mealsToShow = filteredMeals.slice(0, displayedMeals);
            
            mealsToShow.forEach(meal => {
                const mealCard = createMealCard(meal);
                container.appendChild(mealCard);
            });
            
            // Add animation to new cards
            setTimeout(() => {
                const cards = container.querySelectorAll('.meal-card');
                cards.forEach((card, index) => {
                    setTimeout(() => {
                        card.classList.add('animate-in');
                    }, index * 100);
                });
            }, 50);
        }

        // Create meal card HTML
        function createMealCard(meal) {
            const card = document.createElement('div');
            card.className = 'meal-card bg-white rounded-xl shadow-lg overflow-hidden hover-lift';
            
            // Difficulty badge class
            const difficultyClass = `difficulty-${meal.difficulty}`;
            
            card.innerHTML = `
                <div class="relative">
                    <img src="${meal.image}" alt="${meal.name}" class="w-full h-48 object-cover">
                    ${meal.popular ? '<div class="absolute top-4 left-4 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold">الأكثر طلباً</div>' : ''}
                    <div class="absolute top-4 right-4 ${difficultyClass} px-2 py-1 rounded-full text-xs font-bold">${getDifficultyText(meal.difficulty)}</div>
                </div>
                <div class="p-6">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-xl font-bold text-text-dark">${meal.name}</h3>
                        <div class="flex items-center text-sm text-gray-600">
                            <span class="text-yellow-500 ml-1">★</span>
                            <span>${meal.rating}</span>
                            <span class="mr-1">(${meal.reviews})</span>
                        </div>
                    </div>
                    
                    <p class="text-gray-600 text-sm mb-4">${meal.description}</p>
                    
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center">
                            <span class="prep-time-badge">⏱️ ${meal.prepTime} دقيقة</span>
                            <span class="storage-badge mr-2">🧊 ${meal.storage}</span>
                        </div>
                        <div class="text-text-dark font-bold">${meal.price} دينار</div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="text-sm text-gray-500 mb-1">المكونات الرئيسية:</div>
                        <div class="flex flex-wrap gap-1">
                            ${meal.ingredients.slice(0, 3).map(ing => `<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs">${ing}</span>`).join('')}
                            ${meal.ingredients.length > 3 ? `<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs">+${meal.ingredients.length - 3}</span>` : ''}
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center text-sm text-gray-500">
                        <div>${meal.servings} أشخاص</div>
                        <div>الطباخة: ${meal.chef}</div>
                    </div>
                    
                    <div class="mt-6 flex space-x-4">
                        <button onclick="addToCart('${meal.id}')" 
                                class="flex-1 bg-warm-orange text-white py-2 rounded-lg hover:bg-orange-500 transition-colors font-medium text-center">
                            أضف إلى السلة
                        </button>
                        <button onclick="viewMealDetails('${meal.id}')" 
                                class="flex-1 border border-warm-orange text-warm-orange py-2 rounded-lg hover:bg-warm-orange hover:text-white transition-colors font-medium text-center">
                            التفاصيل
                        </button>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Get difficulty text in Arabic
        function getDifficultyText(difficulty) {
            const difficultyMap = {
                'easy': 'سهلة',
                'medium': 'متوسطة',
                'hard': 'صعبة'
            };
            return difficultyMap[difficulty] || difficulty;
        }

        // Toggle filter active state
        function toggleFilter(button, filterType) {
            const value = button.getAttribute('data-value');
            
            if (button.classList.contains('active')) {
                button.classList.remove('active');
                activeFilters[filterType] = activeFilters[filterType].filter(item => item !== value);
            } else {
                button.classList.add('active');
                activeFilters[filterType].push(value);
            }
            
            // Reset displayed meals count and render
            displayedMeals = 6;
            renderMeals();
        }

        // Filter meals based on search and filters
        function filterMeals() {
            displayedMeals = 6;
            renderMeals();
        }

        // Sort meals
        function sortMeals(sortBy) {
            renderMeals();
        }

        // Load more meals
        function loadMoreMeals() {
            displayedMeals += 6;
            renderMeals();
        }

        // Add to cart function
        function addToCart(mealId) {
            // Find the meal
            const meal = mealsData.find(m => m.id === mealId);
            
            // Show success message
            alert(`تمت إضافة ${meal.name} إلى سلة التسوق`);
            
            // In a real app, you would add to cart logic here
            console.log(`Added ${meal.name} to cart`);
        }

        // View meal details
        function viewMealDetails(mealId) {
            // In a real app, you would navigate to meal details page
            alert(`سيتم عرض تفاصيل الوجبة ${mealId}`);
        }

        // Initialize animations
        function initAnimations() {
            // Animate on scroll
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-in');
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.animate-on-scroll').forEach(el => {
                observer.observe(el);
            });
            
            // Mobile menu toggle
            document.getElementById('mobile-menu-button').addEventListener('click', function() {
                const menu = document.getElementById('mobile-menu');
                menu.classList.toggle('hidden');
            });
        }
    </script>
</body>
</html>